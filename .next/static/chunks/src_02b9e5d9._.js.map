{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/image-card.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { Image as ImageType } from '@/types/image';\n\ninterface ImageCardProps {\n  image: ImageType;\n  onDelete: (id: string) => void;\n}\n\nexport function ImageCard({ image, onDelete }: ImageCardProps) {\n  const [isHovered, setIsHovered] = useState(false);\n\n  return (\n    <div \n      className=\"relative group overflow-hidden rounded-lg bg-gray-900\"\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n    >\n      <div className=\"aspect-square relative\">\n        <Image\n          src={`/uploads/${image.filename}`}\n          alt={image.originalName}\n          fill\n          className=\"object-cover transition-transform duration-300 group-hover:scale-110\"\n        />\n        \n        {isHovered && (\n          <div className=\"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center transition-opacity duration-300\">\n            <div className=\"text-center\">\n              <p className=\"text-white text-sm mb-2\">{image.originalName}</p>\n              <p className=\"text-gray-300 text-xs mb-4\">\n                {new Date(image.uploadDate).toLocaleDateString()}\n              </p>\n              <div className=\"flex gap-2 justify-center\">\n                <Link\n                  href={`/gallery/${image.id}`}\n                  className=\"px-3 py-1 bg-white text-black text-xs rounded hover:bg-gray-200 transition-colors\"\n                >\n                  View\n                </Link>\n                <button\n                  onClick={() => onDelete(image.id)}\n                  className=\"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n      \n      {image.comments.length > 0 && (\n        <div className=\"absolute top-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded\">\n          {image.comments.length} comment{image.comments.length !== 1 ? 's' : ''}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAYO,SAAS,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAkB;;IAC3D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,qBACE,6LAAC;QACC,WAAU;QACV,cAAc,IAAM,aAAa;QACjC,cAAc,IAAM,aAAa;;0BAEjC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,gIAAA,CAAA,UAAK;wBACJ,KAAK,CAAC,SAAS,EAAE,MAAM,QAAQ,EAAE;wBACjC,KAAK,MAAM,YAAY;wBACvB,IAAI;wBACJ,WAAU;;;;;;oBAGX,2BACC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAE,WAAU;8CAA2B,MAAM,YAAY;;;;;;8CAC1D,6LAAC;oCAAE,WAAU;8CACV,IAAI,KAAK,MAAM,UAAU,EAAE,kBAAkB;;;;;;8CAEhD,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,+JAAA,CAAA,UAAI;4CACH,MAAM,CAAC,SAAS,EAAE,MAAM,EAAE,EAAE;4CAC5B,WAAU;sDACX;;;;;;sDAGD,6LAAC;4CACC,SAAS,IAAM,SAAS,MAAM,EAAE;4CAChC,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YASV,MAAM,QAAQ,CAAC,MAAM,GAAG,mBACvB,6LAAC;gBAAI,WAAU;;oBACZ,MAAM,QAAQ,CAAC,MAAM;oBAAC;oBAAS,MAAM,QAAQ,CAAC,MAAM,KAAK,IAAI,MAAM;;;;;;;;;;;;;AAK9E;GAlDgB;KAAA","debugId":null}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/upload-modal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef } from 'react';\n\ninterface UploadModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onUpload: (file: File) => void;\n}\n\nexport function UploadModal({ isOpen, onClose, onUpload }: UploadModalProps) {\n  const [isDragging, setIsDragging] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    \n    const files = Array.from(e.dataTransfer.files);\n    const imageFile = files.find(file => file.type.startsWith('image/'));\n    \n    if (imageFile) {\n      onUpload(imageFile);\n      onClose();\n    }\n  };\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file && file.type.startsWith('image/')) {\n      onUpload(file);\n      onClose();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-gray-900 rounded-lg p-6 w-full max-w-md mx-4\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-xl font-semibold text-white\">Upload Image</h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-white transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n        \n        <div\n          className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${\n            isDragging ? 'border-white bg-gray-800' : 'border-gray-600'\n          }`}\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n          onDrop={handleDrop}\n        >\n          <svg className=\"mx-auto mb-4 text-gray-400 w-12 h-12\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n          </svg>\n          <p className=\"text-white mb-2\">Drag and drop your image here</p>\n          <p className=\"text-gray-400 text-sm mb-4\">or</p>\n          <button\n            onClick={() => fileInputRef.current?.click()}\n            className=\"px-4 py-2 bg-white text-black rounded hover:bg-gray-200 transition-colors\"\n          >\n            Choose File\n          </button>\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            accept=\"image/*\"\n            onChange={handleFileSelect}\n            className=\"hidden\"\n          />\n        </div>\n        \n        <p className=\"text-gray-400 text-xs mt-4 text-center\">\n          Supported formats: JPG, PNG, WebP (Max 5MB)\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAUO,SAAS,YAAY,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAoB;;IACzE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IAE9C,MAAM,iBAAiB,CAAC;QACtB,EAAE,cAAc;QAChB,cAAc;IAChB;IAEA,MAAM,kBAAkB,CAAC;QACvB,EAAE,cAAc;QAChB,cAAc;IAChB;IAEA,MAAM,aAAa,CAAC;QAClB,EAAE,cAAc;QAChB,cAAc;QAEd,MAAM,QAAQ,MAAM,IAAI,CAAC,EAAE,YAAY,CAAC,KAAK;QAC7C,MAAM,YAAY,MAAM,IAAI,CAAC,CAAA,OAAQ,KAAK,IAAI,CAAC,UAAU,CAAC;QAE1D,IAAI,WAAW;YACb,SAAS;YACT;QACF;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,QAAQ,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;YAC1C,SAAS;YACT;QACF;IACF;IAEA,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,6LAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,6LAAC;gCAAI,WAAU;gCAAU,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CACjE,cAAA,6LAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;8BAK3E,6LAAC;oBACC,WAAW,CAAC,oEAAoE,EAC9E,aAAa,6BAA6B,mBAC1C;oBACF,YAAY;oBACZ,aAAa;oBACb,QAAQ;;sCAER,6LAAC;4BAAI,WAAU;4BAAuC,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCAC9F,cAAA,6LAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;sCAEvE,6LAAC;4BAAE,WAAU;sCAAkB;;;;;;sCAC/B,6LAAC;4BAAE,WAAU;sCAA6B;;;;;;sCAC1C,6LAAC;4BACC,SAAS,IAAM,aAAa,OAAO,EAAE;4BACrC,WAAU;sCACX;;;;;;sCAGD,6LAAC;4BACC,KAAK;4BACL,MAAK;4BACL,QAAO;4BACP,UAAU;4BACV,WAAU;;;;;;;;;;;;8BAId,6LAAC;oBAAE,WAAU;8BAAyC;;;;;;;;;;;;;;;;;AAM9D;GAtFgB;KAAA","debugId":null}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/gallery/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { ImageCard } from '@/components/image-card';\nimport { UploadModal } from '@/components/upload-modal';\nimport { Image } from '@/types/image';\n\nexport default function GalleryPage() {\n  const [images, setImages] = useState<Image[]>([]);\n  const [isUploadModalOpen, setIsUploadModalOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    fetchImages();\n  }, []);\n\n  const fetchImages = async () => {\n    try {\n      const response = await fetch('/api/images');\n      const data = await response.json();\n      setImages(data.images || []);\n    } catch (error) {\n      console.error('Error fetching images:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleUpload = async (file: File) => {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const response = await fetch('/api/upload', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (response.ok) {\n        fetchImages(); // Refresh the gallery\n      } else {\n        const error = await response.json();\n        alert(error.error || 'Upload failed');\n      }\n    } catch (error) {\n      console.error('Upload error:', error);\n      alert('Upload failed');\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this image?')) return;\n\n    try {\n      const response = await fetch(`/api/images?id=${id}`, {\n        method: 'DELETE',\n      });\n\n      if (response.ok) {\n        fetchImages(); // Refresh the gallery\n      } else {\n        alert('Failed to delete image');\n      }\n    } catch (error) {\n      console.error('Delete error:', error);\n      alert('Failed to delete image');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black text-white\">\n      {/* Header */}\n      <header className=\"border-b border-gray-800\">\n        <div className=\"max-w-7xl mx-auto px-4 py-6\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <Link href=\"/\" className=\"text-2xl font-bold hover:text-gray-300 transition-colors\">\n                MP - Makata Pilipinas\n              </Link>\n              <p className=\"text-gray-400 mt-1\">Gallery</p>\n            </div>\n            <button\n              onClick={() => setIsUploadModalOpen(true)}\n              className=\"px-6 py-3 bg-white text-black rounded-full hover:bg-gray-200 transition-colors font-medium\"\n            >\n              Upload Image\n            </button>\n          </div>\n        </div>\n      </header>\n\n      {/* Gallery Content */}\n      <main className=\"max-w-7xl mx-auto px-4 py-8\">\n        {isLoading ? (\n          <div className=\"flex justify-center items-center h-64\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-white\"></div>\n          </div>\n        ) : images.length === 0 ? (\n          <div className=\"text-center py-16\">\n            <div className=\"mb-8\">\n              <svg className=\"mx-auto h-24 w-24 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n              </svg>\n            </div>\n            <h3 className=\"text-xl font-medium text-gray-300 mb-2\">No images yet</h3>\n            <p className=\"text-gray-400 mb-8\">Start building your collection by uploading your first image</p>\n            <button\n              onClick={() => setIsUploadModalOpen(true)}\n              className=\"px-6 py-3 bg-white text-black rounded-full hover:bg-gray-200 transition-colors font-medium\"\n            >\n              Upload Your First Image\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {images.map((image) => (\n              <ImageCard\n                key={image.id}\n                image={image}\n                onDelete={handleDelete}\n              />\n            ))}\n          </div>\n        )}\n      </main>\n\n      {/* Upload Modal */}\n      <UploadModal\n        isOpen={isUploadModalOpen}\n        onClose={() => setIsUploadModalOpen(false)}\n        onUpload={handleUpload}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}